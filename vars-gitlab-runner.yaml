---
docker_image: "docker:stable"
locked: "true"
volumes: "/var/run/docker.sock:/var/run/docker.sock"
run_untagged: "true"
access_level: "not_protected"
executor: "docker"
request_concurrency: "2"
docker_privileged: "false"
tags: "{{ lookup('env', 'CI_TAGS') }}"
runner_name: "{{ lookup('env', 'CI_NAME') }}"
gitlab_url: "{{ lookup('env', 'CI_SERVER_URL') }}"
registration_token: "{{ lookup('env', 'CI_GITLAB_TOKEN') }}"

gl_runner_name: "--name {{ runner_name }}"
gl_executor: "--executor {{ executor }}"
gl_access_level: "--access-level={{ access_level }}"
gl_run_untagged: "--run-untagged={{ run_untagged }}"
gl_volumes: "--docker-volumes {{ volumes }}"
gl_locked: "--locked={{ locked }}"
gl_docker_image: "--docker-image {{ docker_image }}"
gl_registration_token: "-r {{ registration_token }}"
gl_url: "--url {{ gitlab_url }}"
gl_privileged: "--docker-privileged {{ docker_privileged }}"

runner_tags: "--tag-list {{ tags }}"
gl_tag_list: "{{ runner_tags if tags else '' }}"

req_con: "--request-concurrency {{ request_concurrency }}"
gl_request_concurrency: "{{ req_con if request_concurrency else '' }}"
